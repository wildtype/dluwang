=== Usage

Open {{{index.html}}} or use bookmarklet in browser. Start editing, then just save the page to store it.

=== Bookmarklet
Select then drag and drop this URL to your bookmark toolbar (don't trust it without checking its content):
{{{
data:text/html;base64,PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogICAgPHRpdGxlPm5vdGU8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAqIHsKICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgcGFkZGluZzogMDsKICAgICAgfQogICAgICBib2R5IHsKICAgICAgICBmb250OiAxNnB4LzEuMmVtIHNhbnMtc2VyaWY7CiAgICAgIH0KICAgICAgZGl2I2NvbnRhaW5lciB7CiAgICAgICAgd2lkdGg6IDUwdnc7CiAgICAgICAgbWFyZ2luOiAyZW0gYXV0bzsKICAgICAgfQogICAgICBbY29udGVudGVkaXRhYmxlXTpmb2N1cyB7CiAgICAgICAgb3V0bGluZTogMHB4IHNvbGlkIHRyYW5zcGFyZW50OwogICAgICB9CiAgICAgIGxpIHsKICAgICAgICBjb2xvcjogIzMzMzsKICAgICAgICBwYWRkaW5nLWxlZnQ6IGNhbGMoMnB4ICsgMC41ZW0pOwogICAgICAgIG1hcmdpbi1ib3R0b206IDAuOGVtOwogICAgICB9CiAgICAgIGxpW2NvbnRlbnRlZGl0YWJsZV0gewogICAgICAgIGNvbG9yOiAjMTEzOwogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWU7CiAgICAgICAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCAjMTE2OwogICAgICAgIHBhZGRpbmctbGVmdDogMC41ZW07CiAgICAgIH0KICAgICAgaDEgewogICAgICAgIGZvbnQtc2l6ZTogMS42ZW07CiAgICAgICAgbGluZS1oZWlnaHQ6IDJlbTsKICAgICAgfQogICAgICBrYmQgewogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWU7CiAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4OwogICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNiNGI0YjQ7CiAgICAgICAgYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgLjIpLCAwIDJweCAwIDAgcmdiYSgyNTUsIDI1NSwgMjU1LCAuNykgaW5zZXQ7CiAgICAgICAgZm9udC1zaXplOiAuODVlbTsKICAgICAgICBmb250LXdlaWdodDogNzAwOwogICAgICAgIHBhZGRpbmc6IDJweCA0cHg7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9oZWFkPgoKICA8Ym9keT4KICAgIDxkaXYgaWQ9ImNvbnRhaW5lciI+CiAgICAgIDxoMSBjbGFzcz0iZWRpdGFibGUiIGlkPSJ0aXRsZSI+VGl0bGU8L2gxPgogICAgICA8dWwgaWQ9InJvb3QiPgogICAgICAgIDxsaSBjbGFzcz0iZWRpdGFibGUiPgogICAgICAgICAgU2FtcGxlIG5vdGUgaXRlbS48YnIgLz4KICAgICAgICAgIDxiciAvPgogICAgICAgICAgUHJlc3MgPGtiZD5UYWI8L2tiZD4sIGRvdWJsZS1jbGljaywgb3IgPGtiZD5DdHJsPC9rYmQ+K0NsaWNrIG9uIFRpdGxlIG9yIGFueSBpdGVtIHRvIHN0YXJ0IGVkaXRpbmcuPGJyIC8+CiAgICAgICAgICA8YnIgLz4KICAgICAgICAgIFdoZW4gZWRpdGluZyBUaXRsZSBvciBub3RlIGl0ZW0sIHByZXNzIDxrYmQ+Q3RybDwva2JkPis8a2JkPlVwPC9rYmQ+LzxrYmQ+RG93bjwva2JkPiBvciA8a2JkPlRhYjwva2JkPi88a2JkPlNoaWZ0PC9rYmQ+KzxrYmQ+VGFiPC9rYmQ+IHRvIG1vdmUgYXJvdW5kIGJldHdlZW4gdGl0bGUgYW5kIG5vdGUgaXRlbXMuPGJyIC8+CiAgICAgICAgICA8YnIgLz4KICAgICAgICAgIFdoZW4gZWRpdGluZyBub3RlIGl0ZW0sIHByZXNzaW5nIDxrYmQ+Q3RybDwva2JkPis8a2JkPkVudGVyPC9rYmQ+IHdpbGwgYWRkIG5ldyBub3RlIGl0ZW0sIHdoaWxlIDxrYmQ+Q3RybDwva2JkPis8a2JkPkJhY2tzcGFjZTwva2JkPiBvbiBhbiBlbXB0eSBub3RlIGl0ZW0gd2lsbCBkZWxldGUgaXQuPGJyIC8+CiAgICAgICAgICA8YnIgLz4KICAgICAgICAgIFByZXNzIDxrYmQ+RXNjPC9rYmQ+IHRvIHVuZm9jdXMvc3RvcCBlZGl0aW5nLjxiciAvPgogICAgICAgICAgPGJyIC8+CiAgICAgICAgICBTYXZlIGFzIEhUTUwgcGFnZSB0byBzdG9yZSBpdCBwZXJtYW5lbnRseS4KICAgICAgICA8L2xpPgogICAgICA8L3VsPgogICAgPC9kaXY+CgogICAgPHNjcmlwdD4KICAgICAgZnVuY3Rpb24gbWFpbigpIHsKICAgICAgICBjb25zdCBmaXJzdEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJ1bCNyb290ID4gbGkiKTsKICAgICAgICBzZXR1cEVkaXRhYmxlTGlzdChmaXJzdEl0ZW0pOwoKICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoImlkLWlkIik7IC8vIGRkL21tL1lZWVkKICAgICAgICBjb25zdCBpbml0aWFsVGl0bGUgPSBgTm90ZSAke2RhdGV9YDsKICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0aXRsZSIpOwoKICAgICAgICBkb2N1bWVudC50aXRsZSA9IGluaXRpYWxUaXRsZTsKICAgICAgICBzZXR1cFRpdGxlRWxlbWVudCh0aXRsZSwgaW5pdGlhbFRpdGxlKTsKCiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgKGUpID0+IHsKICAgICAgICAgIGlmIChlLmtleSA9PSAiRXNjYXBlIikgewogICAgICAgICAgICBpbmFjdGl2YXRlQ3VycmVudEFjdGl2ZUVkaXRhYmxlKCk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGUua2V5ID09ICJUYWIiICYmICFhY3RpdmVFZGl0YWJsZSgpKSB7CiAgICAgICAgICAgIHN3aXRjaEVkaXRhYmxlKGFsbEVkaXRhYmxlKClbMF0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBzZXR1cFRpdGxlRWxlbWVudChlbGVtZW50LCB0aXRsZVRleHQpIHsKICAgICAgICBlbGVtZW50LmlubmVyVGV4dCA9IHRpdGxlVGV4dDsKICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgb25FZGl0YWJsZUNsaWNrKTsKICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgKCkgPT4gewogICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBlbGVtZW50LmlubmVyVGV4dDsKICAgICAgICB9KTsKICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBoYW5kbGVNb3ZlbWVudEtleXMpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBzZXR1cEVkaXRhYmxlTGlzdChlbGVtZW50KSB7CiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIG9uRWRpdGFibGVDbGljayk7CiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgaGFuZGxlSXRlbUFjdGlvbktleXMpOwogICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGhhbmRsZU1vdmVtZW50S2V5cyk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFjdGl2ZUVkaXRhYmxlKCkgewogICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hY3RpdmU9InRydWUiXScpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBvbkVkaXRhYmxlQ2xpY2soZXZlbnQpIHsKICAgICAgICBjb25zdCBjbGlja2FibGUgPSBldmVudC5jdXJyZW50VGFyZ2V0OwogICAgICAgIGlmIChjbGlja2FibGUuZGF0YXNldC5hY3RpdmUgPT0gInRydWUiKSByZXR1cm47CiAgICAgICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuZGV0YWlsID09IDIpIHsKICAgICAgICAgIHN3aXRjaEVkaXRhYmxlKGNsaWNrYWJsZSk7CiAgICAgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCkKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGluYWN0aXZhdGVDdXJyZW50QWN0aXZlRWRpdGFibGUoKSB7CiAgICAgICAgY29uc3QgYWN0aXZlID0gYWN0aXZlRWRpdGFibGUoKTsKCiAgICAgICAgaWYgKGFjdGl2ZSkgewogICAgICAgICAgYWN0aXZlLmJsdXIoKTsKICAgICAgICAgIGFjdGl2ZS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtYWN0aXZlIik7CiAgICAgICAgICBhY3RpdmUucmVtb3ZlQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHN3aXRjaEVkaXRhYmxlKGVsZW1lbnQpIHsKICAgICAgICBpbmFjdGl2YXRlQ3VycmVudEFjdGl2ZUVkaXRhYmxlKCk7CiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIsICIiKTsKICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgiZGF0YS1hY3RpdmUiLCB0cnVlKTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTsKICAgICAgICB9LCAxMDApOwogICAgICB9CgogICAgICBmdW5jdGlvbiBoYW5kbGVJdGVtQWN0aW9uS2V5cyhldmVudCkgewogICAgICAgIGNvbnN0IHByZXNzYWJsZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7CgogICAgICAgIGlmIChldmVudC5rZXkgPT0gIkVudGVyIiAmJiBldmVudC5jdHJsS2V5KSB7CiAgICAgICAgICBpbnNlcnROZXdJdGVtQWZ0ZXIocHJlc3NhYmxlKTsKICAgICAgICB9CgogICAgICAgIGlmIChldmVudC5rZXkgPT0gIkJhY2tzcGFjZSIgJiYgZXZlbnQuY3RybEtleSkgewogICAgICAgICAgcmVtb3ZlRWxlbWVudElmRW1wdHlBbmROb3RBbG9uZShwcmVzc2FibGUpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gaGFuZGxlTW92ZW1lbnRLZXlzKGV2ZW50KSB7CiAgICAgICAgY29uc3QgcHJlc3NhYmxlID0gZXZlbnQuY3VycmVudFRhcmdldDsKCiAgICAgICAgaWYgKGV2ZW50LmtleSA9PSAiQXJyb3dEb3duIiAmJiBldmVudC5jdHJsS2V5KSB7CiAgICAgICAgICBjb25zdCBuZXh0QWN0aXZlID0gbmV4dFNpYmxpbmcocHJlc3NhYmxlKTsKICAgICAgICAgIGlmIChuZXh0QWN0aXZlKSBzd2l0Y2hFZGl0YWJsZShuZXh0QWN0aXZlKTsKICAgICAgICB9CgogICAgICAgIGlmIChldmVudC5rZXkgPT0gIkFycm93VXAiICYmIGV2ZW50LmN0cmxLZXkpIHsKICAgICAgICAgIGNvbnN0IG5leHRBY3RpdmUgPSBwcmV2aW91c1NpYmxpbmcocHJlc3NhYmxlKTsKICAgICAgICAgIGlmIChuZXh0QWN0aXZlKSBzd2l0Y2hFZGl0YWJsZShuZXh0QWN0aXZlKTsKICAgICAgICB9CgogICAgICAgIGlmIChldmVudC5rZXkgPT0gIlRhYiIgJiYgIWV2ZW50LnNoaWZ0S2V5KSB7CiAgICAgICAgICBjb25zdCBuZXh0QWN0aXZlID0gbmV4dFNpYmxpbmcocHJlc3NhYmxlKTsKICAgICAgICAgIGlmIChuZXh0QWN0aXZlKSBzd2l0Y2hFZGl0YWJsZShuZXh0QWN0aXZlKTsKICAgICAgICB9CgogICAgICAgIGlmIChldmVudC5rZXkgPT0gIlRhYiIgJiYgZXZlbnQuc2hpZnRLZXkpIHsKICAgICAgICAgIGNvbnN0IG5leHRBY3RpdmUgPSBwcmV2aW91c1NpYmxpbmcocHJlc3NhYmxlKTsKICAgICAgICAgIGlmIChuZXh0QWN0aXZlKSBzd2l0Y2hFZGl0YWJsZShuZXh0QWN0aXZlKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGluc2VydE5ld0l0ZW1BZnRlcihlbGVtZW50KSB7CiAgICAgICAgY29uc3QgZWxlbWVudFBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTsKICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7CiAgICAgICAgbGkuY2xhc3NMaXN0LmFkZCgiZWRpdGFibGUiKTsKICAgICAgICBlbGVtZW50UGFyZW50Lmluc2VydEJlZm9yZShsaSwgZWxlbWVudC5uZXh0U2libGluZyk7CgogICAgICAgIHNldHVwRWRpdGFibGVMaXN0KGxpKTsKICAgICAgICBzd2l0Y2hFZGl0YWJsZShsaSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnRJZkVtcHR5QW5kTm90QWxvbmUoZWxlbWVudCkgewogICAgICAgIGNvbnN0IG5vdEFsb25lID0gZWxlbWVudC5wYXJlbnROb2RlLmNoaWxkcmVuLmxlbmd0aCA+IDE7CgogICAgICAgIGlmIChlbGVtZW50LnRleHRDb250ZW50Lmxlbmd0aCA9PSAwICYmIG5vdEFsb25lKSB7CiAgICAgICAgICBjb25zdCBuZXh0QWN0aXZlID0gcHJldmlvdXNTaWJsaW5nKGVsZW1lbnQpIHx8IG5leHRTaWJsaW5nKGVsZW1lbnQpOwoKICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7CgogICAgICAgICAgaWYgKG5leHRBY3RpdmUpIHN3aXRjaEVkaXRhYmxlKG5leHRBY3RpdmUpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gYWxsRWRpdGFibGUoKSB7CiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImVkaXRhYmxlIik7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHByZXZpb3VzU2libGluZyhlbGVtZW50KSB7CiAgICAgICAgY29uc3QgbGlzdCA9IFsuLi5hbGxFZGl0YWJsZSgpXTsKICAgICAgICBjb25zdCBzZWxmSW5kZXggPSBsaXN0LmluZGV4T2YoZWxlbWVudCk7CgogICAgICAgIHJldHVybiBsaXN0W3NlbGZJbmRleCAtIDFdOwogICAgICB9CgogICAgICBmdW5jdGlvbiBuZXh0U2libGluZyhlbGVtZW50KSB7CiAgICAgICAgY29uc3QgbGlzdCA9IFsuLi5hbGxFZGl0YWJsZSgpXTsKICAgICAgICBjb25zdCBzZWxmSW5kZXggPSBsaXN0LmluZGV4T2YoZWxlbWVudCk7CgogICAgICAgIHJldHVybiBsaXN0W3NlbGZJbmRleCArIDFdOwogICAgICB9CgogICAgICBtYWluKCk7CiAgICA8L3NjcmlwdD4KICA8L2JvZHk+CjwvaHRtbD4K
}}}
